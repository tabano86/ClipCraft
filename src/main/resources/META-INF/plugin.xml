
<idea-plugin>
    <id>com.clipcraft</id>
    <name>ClipCraft</name>
    <vendor email="anthony.tabano.dev@gmail.com" url="https://github.com/tabano86/ClipCraft">ClipCraft Team</vendor>

    <resource-bundle>messages.ClipCraftBundle</resource-bundle>
    <idea-version since-build="233"/>

    <category>Tools</category>

    <description><![CDATA[
    <h2>ClipCraft - Professional Code Export for AI & Documentation</h2>
    <p>The ultimate IntelliJ plugin for exporting code to AI assistants, documentation, and team collaboration.</p>

    <h3>ðŸš€ Key Features</h3>
    <ul>
        <li><b>âš¡ Super Simple:</b> One-click "Copy for AI" - No dialogs, no configuration, instant results!</li>
        <li><b>8 Keyboard Shortcuts:</b> Lightning-fast access to all features</li>
        <li><b>Multiple Export Formats:</b> Markdown, XML, JSON, HTML, Plain Text, ZIP archives</li>
        <li><b>AI-Optimized:</b> Claude, ChatGPT, and Gemini optimized formats with token estimation</li>
        <li><b>Smart Presets:</b> AI/LLM, Documentation, Code Review, Full Project, Test Files</li>
        <li><b>Export Options:</b> Copy to clipboard, save to file, or export as ZIP</li>
        <li><b>Advanced Filtering:</b> Glob patterns, regex, .gitignore support, file size limits</li>
        <li><b>Token Estimation:</b> Know exactly how much context you're using</li>
        <li><b>Smart Chunking:</b> Automatically split large exports for AI context windows</li>
        <li><b>Security:</b> Secret detection and masking, PII warnings</li>
        <li><b>Rich Metadata:</b> Git info, timestamps, file statistics, table of contents</li>
        <li><b>Customization:</b> Line numbers, comment stripping, custom formatting</li>
        <li><b>Quick Actions:</b> One-click export current file or entire project</li>
    </ul>

    <h3>ðŸ“‹ Usage</h3>
    <ul>
        <li><b>Right-click context menus:</b> Available in Project View, Editor, Editor Tabs, Changes View, Structure View, Favorites, and more</li>
        <li><b>Main menu:</b> ClipCraft menu in the top menu bar</li>
        <li><b>Tools menu:</b> Tools â†’ ClipCraft</li>
        <li><b>Keyboard shortcuts:</b>
            <ul>
                <li>âš¡ Ctrl+Alt+C: Copy File for AI (Simple, no dialogs!)</li>
                <li>âš¡ Ctrl+Alt+Shift+C: Copy Project for AI (Simple, no dialogs!)</li>
                <li>Ctrl+Alt+M: Copy as Markdown</li>
                <li>Ctrl+Alt+E: Export Current File</li>
                <li>Ctrl+Alt+Shift+E: Export Project</li>
                <li>Ctrl+Alt+P: Export with Preset</li>
                <li>Ctrl+Alt+F: Export to File</li>
                <li>Ctrl+Alt+Z: Export as ZIP</li>
            </ul>
        </li>
        <li><b>Settings:</b> Configure presets in Settings â†’ Tools â†’ ClipCraft Settings</li>
    </ul>

    <h3>ðŸ’¡ Perfect For</h3>
    <ul>
        <li>Sharing code context with AI assistants (Claude, ChatGPT, Gemini)</li>
        <li>Creating documentation from code</li>
        <li>Code review preparation</li>
        <li>Team collaboration and knowledge sharing</li>
        <li>Project analysis and audits</li>
    </ul>
  ]]></description>

    <depends>com.intellij.modules.platform</depends>

    <extensions defaultExtensionNs="com.intellij">
        <applicationService
                serviceImplementation="com.clipcraft.settings.SettingsStateProvider"/>
        <applicationConfigurable
                parentId="tools"
                instance="com.clipcraft.settings.EnhancedClipCraftConfigurable"
                id="com.clipcraft.settings.EnhancedClipCraftConfigurable"
                key="settings.displayName"/>
        <notificationGroup id="ClipCraft notifications" displayType="BALLOON" key="notification.group.name"/>
        <postStartupActivity implementation="com.clipcraft.listeners.ClipCraftStartupActivity"/>
    </extensions>

    <actions>
        <!-- Main ClipCraft action group -->
        <group id="com.clipcraft.MainActionGroup" text="ClipCraft" description="Export files in various formats" popup="true" icon="AllIcons.Actions.Copy">
            <!-- Add to multiple context menus for better accessibility -->
            <add-to-group group-id="ProjectViewPopupMenu" anchor="last"/>
            <add-to-group group-id="EditorPopupMenu" anchor="last"/>
            <add-to-group group-id="EditorTabPopupMenu" anchor="last"/>
            <add-to-group group-id="ChangesViewPopupMenu" anchor="last"/>
            <add-to-group group-id="ScopeViewPopupMenu" anchor="last"/>
            <add-to-group group-id="StructureViewPopupMenu" anchor="last"/>
            <add-to-group group-id="FavoritesViewPopupMenu" anchor="last"/>
            <add-to-group group-id="NavBarToolBar" anchor="last"/>

            <!-- âš¡ SUPER SIMPLE ONE-CLICK ACTIONS âš¡ -->
            <action
                    id="com.clipcraft.action.CopyFileForAIAction"
                    class="com.clipcraft.action.CopyFileForAIAction"
                    text="âš¡ Copy for AI (Simple)"
                    description="One-click: Copy current file for AI - No dialogs!"
                    icon="AllIcons.Actions.Lightning">
                <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt C"/>
            </action>

            <action
                    id="com.clipcraft.action.CopyProjectForAIAction"
                    class="com.clipcraft.action.CopyProjectForAIAction"
                    text="âš¡ Copy Project for AI"
                    description="One-click: Copy entire project optimized for AI - No dialogs!"
                    icon="AllIcons.Actions.Lightning">
                <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt shift C"/>
            </action>

            <separator/>

            <!-- Standard actions -->
            <action
                    id="com.clipcraft.action.ClipCraftAction"
                    class="com.clipcraft.action.ClipCraftAction"
                    text="Copy as Markdown..."
                    description="Copy selected files as formatted Markdown (with options)"
                    icon="AllIcons.Actions.Copy">
                <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt M"/>
            </action>

            <action
                    id="com.clipcraft.action.QuickExportCurrentFileAction"
                    class="com.clipcraft.action.QuickExportCurrentFileAction"
                    text="Export Current File..."
                    description="Export the current file with options"
                    icon="AllIcons.Actions.QuickfixBulb">
                <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt E"/>
            </action>

            <action
                    id="com.clipcraft.action.QuickExportProjectAction"
                    class="com.clipcraft.action.QuickExportProjectAction"
                    text="Export Project..."
                    description="Export entire project with options"
                    icon="AllIcons.Nodes.Module">
                <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt shift E"/>
            </action>

            <separator/>

            <!-- Advanced actions -->
            <action
                    id="com.clipcraft.action.ExportWithPresetAction"
                    class="com.clipcraft.action.ExportWithPresetAction"
                    text="Export with Preset..."
                    description="Choose from predefined export presets"
                    icon="AllIcons.Actions.ListFiles">
                <!-- Add keyboard shortcut -->
                <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt P"/>
            </action>

            <action
                    id="com.clipcraft.action.ExportToFileAction"
                    class="com.clipcraft.action.ExportToFileAction"
                    text="Export to File..."
                    description="Export to a file in various formats (MD, XML, JSON, HTML, ZIP)"
                    icon="AllIcons.Actions.MenuSaveall">
                <!-- Add keyboard shortcut -->
                <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt F"/>
            </action>

            <action
                    id="com.clipcraft.action.QuickExportAsZipAction"
                    class="com.clipcraft.action.QuickExportAsZipAction"
                    text="Quick Export as ZIP"
                    description="Quickly export files as a ZIP archive"
                    icon="AllIcons.FileTypes.Archive">
                <!-- Add keyboard shortcut -->
                <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt Z"/>
            </action>
        </group>

        <!-- Tools menu actions -->
        <group id="com.clipcraft.ToolsMenuGroup" text="ClipCraft" description="ClipCraft export tools">
            <add-to-group group-id="ToolsMenu" anchor="last"/>

            <!-- Simple one-click actions first -->
            <action
                    id="com.clipcraft.action.CopyFileForAIActionToolsMenu"
                    class="com.clipcraft.action.CopyFileForAIAction"
                    text="âš¡ Copy File for AI (Simple)"
                    description="One-click: Copy current file for AI"
                    icon="AllIcons.Actions.Lightning"/>

            <action
                    id="com.clipcraft.action.CopyProjectForAIActionToolsMenu"
                    class="com.clipcraft.action.CopyProjectForAIAction"
                    text="âš¡ Copy Project for AI"
                    description="One-click: Copy entire project for AI"
                    icon="AllIcons.Actions.Lightning"/>

            <separator/>

            <action
                    id="com.clipcraft.action.QuickExportProjectActionToolsMenu"
                    class="com.clipcraft.action.QuickExportProjectAction"
                    text="Export Project..."
                    description="Export entire project with options"
                    icon="AllIcons.Actions.Copy"/>

            <action
                    id="com.clipcraft.action.ExportWithPresetActionToolsMenu"
                    class="com.clipcraft.action.ExportWithPresetAction"
                    text="Export with Preset..."
                    description="Choose from predefined export presets"
                    icon="AllIcons.Actions.ListFiles"/>

            <action
                    id="com.clipcraft.action.QuickExportAsZipActionToolsMenu"
                    class="com.clipcraft.action.QuickExportAsZipAction"
                    text="Export as ZIP..."
                    description="Export files as a ZIP archive"
                    icon="AllIcons.FileTypes.Archive"/>
        </group>

        <!-- Main menu integration for better discoverability -->
        <group id="com.clipcraft.MainMenuGroup" text="ClipCraft" description="ClipCraft export tools" popup="true" icon="AllIcons.Actions.Copy">
            <add-to-group group-id="MainMenu" anchor="before" relative-to-action="ToolsMenu"/>

            <!-- Simple one-click actions at the top -->
            <action
                    id="com.clipcraft.action.CopyFileForAIActionMainMenu"
                    class="com.clipcraft.action.CopyFileForAIAction"
                    text="âš¡ Copy File for AI"
                    description="One-click: Copy current file for AI"
                    icon="AllIcons.Actions.Lightning"/>

            <action
                    id="com.clipcraft.action.CopyProjectForAIActionMainMenu"
                    class="com.clipcraft.action.CopyProjectForAIAction"
                    text="âš¡ Copy Project for AI"
                    description="One-click: Copy entire project for AI"
                    icon="AllIcons.Actions.Lightning"/>

            <separator/>

            <action
                    id="com.clipcraft.action.QuickExportCurrentFileActionMainMenu"
                    class="com.clipcraft.action.QuickExportCurrentFileAction"
                    text="Export Current File..."
                    description="Export the current file with options"
                    icon="AllIcons.Actions.QuickfixBulb"/>

            <action
                    id="com.clipcraft.action.QuickExportProjectActionMainMenu"
                    class="com.clipcraft.action.QuickExportProjectAction"
                    text="Export Project..."
                    description="Export entire project with options"
                    icon="AllIcons.Nodes.Module"/>

            <separator/>

            <action
                    id="com.clipcraft.action.ExportWithPresetActionMainMenu"
                    class="com.clipcraft.action.ExportWithPresetAction"
                    text="Export with Preset..."
                    description="Choose from predefined export presets"
                    icon="AllIcons.Actions.ListFiles"/>

            <action
                    id="com.clipcraft.action.QuickExportAsZipActionMainMenu"
                    class="com.clipcraft.action.QuickExportAsZipAction"
                    text="Export as ZIP..."
                    description="Export files as a ZIP archive"
                    icon="AllIcons.FileTypes.Archive"/>
        </group>
    </actions>
</idea-plugin>