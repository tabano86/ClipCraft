
<idea-plugin>
    <id>com.clipcraft</id>
    <name>ClipCraft</name>
    <vendor>ClipCraft</vendor>

    <resource-bundle>messages.ClipCraftBundle</resource-bundle>
    <idea-version since-build="241"/>

    <description><![CDATA[
    <h2>ClipCraft - Professional Code Export for AI & Documentation</h2>
    <p>The ultimate IntelliJ plugin for exporting code to AI assistants, documentation, and team collaboration.</p>

    <h3>ðŸš€ Key Features</h3>
    <ul>
        <li><b>Multiple Export Formats:</b> Markdown, XML, JSON, HTML, Plain Text</li>
        <li><b>AI-Optimized:</b> Claude, ChatGPT, and Gemini optimized formats with token estimation</li>
        <li><b>Smart Presets:</b> AI/LLM, Documentation, Code Review, Full Project, Test Files</li>
        <li><b>Export Options:</b> Copy to clipboard or save to file</li>
        <li><b>Advanced Filtering:</b> Glob patterns, regex, .gitignore support, file size limits</li>
        <li><b>Token Estimation:</b> Know exactly how much context you're using</li>
        <li><b>Smart Chunking:</b> Automatically split large exports for AI context windows</li>
        <li><b>Security:</b> Secret detection and masking, PII warnings</li>
        <li><b>Rich Metadata:</b> Git info, timestamps, file statistics, table of contents</li>
        <li><b>Customization:</b> Line numbers, comment stripping, custom formatting</li>
        <li><b>Quick Actions:</b> One-click export current file or entire project</li>
    </ul>

    <h3>ðŸ“‹ Usage</h3>
    <ul>
        <li>Right-click files/folders â†’ ClipCraft â†’ Choose export option</li>
        <li>Tools â†’ ClipCraft â†’ Quick Export Project</li>
        <li>Configure presets in Settings â†’ Tools â†’ ClipCraft Settings</li>
    </ul>

    <h3>ðŸ’¡ Perfect For</h3>
    <ul>
        <li>Sharing code context with AI assistants (Claude, ChatGPT, Gemini)</li>
        <li>Creating documentation from code</li>
        <li>Code review preparation</li>
        <li>Team collaboration and knowledge sharing</li>
        <li>Project analysis and audits</li>
    </ul>
  ]]></description>

    <depends>com.intellij.modules.platform</depends>

    <extensions defaultExtensionNs="com.intellij">
        <applicationService
                serviceImplementation="com.clipcraft.settings.SettingsStateProvider"/>
        <applicationConfigurable
                parentId="tools"
                instance="com.clipcraft.settings.EnhancedClipCraftConfigurable"
                id="com.clipcraft.settings.EnhancedClipCraftConfigurable"
                key="settings.displayName"/>
        <notificationGroup id="ClipCraft notifications" displayType="BALLOON" key="notification.group.name"/>
    </extensions>

    <actions>
        <!-- Main ClipCraft action group -->
        <group id="com.clipcraft.MainActionGroup" text="ClipCraft" description="Export files in various formats" popup="true" icon="AllIcons.Actions.Copy">
            <add-to-group group-id="ProjectViewPopupMenu" anchor="last"/>
            <add-to-group group-id="ChangesViewPopupMenu" anchor="last"/>
            <add-to-group group-id="EditorPopupMenu" anchor="last"/>
            <add-to-group group-id="ScopeViewPopupMenu" anchor="last"/>

            <!-- Primary action -->
            <action
                    id="com.clipcraft.action.ClipCraftAction"
                    class="com.clipcraft.action.ClipCraftAction"
                    text="Copy as Markdown"
                    description="Copy selected files as formatted Markdown to clipboard"
                    icon="AllIcons.Actions.Copy"/>

            <separator/>

            <!-- Quick actions -->
            <action
                    id="com.clipcraft.action.QuickExportCurrentFileAction"
                    class="com.clipcraft.action.QuickExportCurrentFileAction"
                    text="Quick Export Current File"
                    description="Quickly export the current file to clipboard"
                    icon="AllIcons.Actions.QuickfixBulb"/>

            <action
                    id="com.clipcraft.action.QuickExportProjectAction"
                    class="com.clipcraft.action.QuickExportProjectAction"
                    text="Quick Export Project"
                    description="Export entire project with AI/LLM preset"
                    icon="AllIcons.Nodes.Module"/>

            <separator/>

            <!-- Advanced actions -->
            <action
                    id="com.clipcraft.action.ExportWithPresetAction"
                    class="com.clipcraft.action.ExportWithPresetAction"
                    text="Export with Preset..."
                    description="Choose from predefined export presets"
                    icon="AllIcons.Actions.ListFiles"/>

            <action
                    id="com.clipcraft.action.ExportToFileAction"
                    class="com.clipcraft.action.ExportToFileAction"
                    text="Export to File..."
                    description="Export to a file in various formats (MD, XML, JSON, HTML)"
                    icon="AllIcons.Actions.MenuSaveall"/>
        </group>

        <!-- Tools menu actions -->
        <group id="com.clipcraft.ToolsMenuGroup" text="ClipCraft" description="ClipCraft export tools">
            <add-to-group group-id="ToolsMenu" anchor="last"/>

            <action
                    id="com.clipcraft.action.QuickExportProjectActionToolsMenu"
                    class="com.clipcraft.action.QuickExportProjectAction"
                    text="Quick Export Project"
                    description="Export entire project with AI/LLM preset"
                    icon="AllIcons.Actions.Copy"/>
        </group>
    </actions>
</idea-plugin>